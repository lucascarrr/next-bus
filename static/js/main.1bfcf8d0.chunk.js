(this["webpackJsonpnext-bus"]=this["webpackJsonpnext-bus"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(3),s=n.n(o);n(13),n(14);var l=function(){function e(e){const[t,n]=e.split(":").map(Number);return 60*t+n}const t={Hiddingh:{routeName:"Hiddingh",src:"Hiddingh",destination:"UC_South"},Sandown:{routeName:"Sandown",src:"Sandown",destination:"UC_North"}},n=new Date,[o,s]=Object(a.useState)("Hiddingh"),[l,r]=Object(a.useState)(t[o].src),[i,u]=Object(a.useState)(t[o].destination),[d,m]=Object(a.useState)(""),[b,p]=Object(a.useState)(""),[f,g]=Object(a.useState)(!1),E=Object.keys(t),[h,N]=Object(a.useState)(""),[S,w]=Object(a.useState)(!1);function j(t){S||(w(!0),fetch("/next-bus/assets/"+t+".json").then(e=>e.json()).then(t=>{!function(t,a,c){let o=n.getHours(),s=n.getMinutes(),l=60*o+s,r=null,i=null;for(let e of t)for(let t in e)if(t===a){let n=e[t].split(":"),a=parseInt(n[0],10),c=parseInt(n[1],10),o=60*a+c;o>=l&&(null===r||o<r)&&(r=o,i=e)}null!==r?(p(i[a]),N(function(t){const n=e(t);let a=n-e(d);return console.log(n+" || "+d+" || "+a),a<0&&(a+=1440),a}(i[a])),console.log("Next bus from ".concat(a," to ").concat(c," departs at ").concat(i[a]))):console.log("No more buses from ".concat(a," to ").concat(c," today."))}(t.schedule.weekday,l,i),w(!1)}))}function v(){const e=new Date,t=e.getHours(),n=e.getMinutes().toString().padStart(2,"0");return"".concat(t,":").concat(n)}return Object(a.useEffect)(()=>{const e=v();m(e)},[]),Object(a.useEffect)(()=>{l&&i&&o&&j(o)},[o,l,i]),c.a.createElement("div",{className:"App"},c.a.createElement("header",null,c.a.createElement("h1",null,"Next Bus:"),c.a.createElement("div",{className:"dropdown-container"},c.a.createElement("span",{className:"dropdown",onClick:()=>g(!f)},o),f&&c.a.createElement("div",{className:"dropdown-options"},E.map((e,n)=>c.a.createElement("div",{key:n,className:"dropdown-item",onClick:()=>(e=>{s(e);const n=t[e];g(!1),r(n.src),u(n.destination)})(e)},e))))),c.a.createElement("main",null,c.a.createElement("div",{className:"information"},c.a.createElement("div",{className:"reverseButton",onClick:()=>{const e=l,t=i;r(t),u(e),console.log("Switching: source ".concat(e," dest ").concat(t)),m(v())}},c.a.createElement("h5",null,"reverse")),c.a.createElement("h2",{id:"route-info"},"Going from ",c.a.createElement("span",{className:"bold-blue"},l)," to"," ",c.a.createElement("span",{className:"bold-blue"},i)," at"," ",c.a.createElement("span",{className:"bold-blue"},d)," the bus comes at"," ",c.a.createElement("span",{className:"bold-red"},b)),c.a.createElement("h4",null,"You'll be waiting ",c.a.createElement("span",{id:"waiting-time"},h)," ","minutes"))))};var r=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then(t=>{let{getCLS:n,getFID:a,getFCP:c,getLCP:o,getTTFB:s}=t;n(e),a(e),c(e),o(e),s(e)})};s.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(l,null))),r()},4:function(e,t,n){e.exports=n(15)}},[[4,1,2]]]);
//# sourceMappingURL=main.1bfcf8d0.chunk.js.map